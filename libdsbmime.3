.Dd $Mdocdate$
.Dt libdsbmime 3
.Os
.Sh NAME
.Nm libdsbmime
.Nd "Library to determine file types"
.Sh LIBRARY
MIME type determining library (libdsbmime, -ldsbmime)
.Sh SYNOPSIS
.In dsbmime.h
.Ft int
.Fn dsbmime_init "void"
.Ft char *
.Fn dsbmime_get_type "const char *file"
.Ft void
.Fn dsbmime_cleanup "void"
.Sh DESCRIPTION
.Nm
is a C library to identify a file's MIME type by using
freedesktop.org's Shared MIME database package.
.Pp
Before using any other function of the library,
.Fn dsbmime_init
must be called. The function
.Fn dsbmime_get_type
returns the MIME type of the given
.Em file
as a string stored in a static buffer. Subsequent calls
to the same function will modify that buffer. In order to free memory used
by the library, the function
.Fn dsbmime_cleanup
can be called.
.Sh RETURN VALUES
.Fn dsbmime_init
returns -1 if an error has occurred, else 0.
.Fn dsbmime_get_type
returns a pointer to a string containing the
.Em file Ns 's
MIME type, or
.Dv NULL
if the file type could not be determined. If
an error has occurred,
.Dv NULL
is returned and
.Em errno
is set.
.Sh FILES
.Bl -tag -width /usr/local/share/mime/globs2 -compact
.It Pa /usr/local/share/mime/globs2
freedesktop.org globs file
.It Pa /usr/local/share/mime/magic
freedesktop.org magic file
.El
.Sh AUTHORS
Marcel Kaiser <mk@freeshell.de>

